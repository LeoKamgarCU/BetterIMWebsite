<%- include ('../partials/header') %>
  <%- include ('../partials/menu') %>

    <main>
      <div class="col">
        <%- include ('../partials/message') %>
      </div>
      <div class="container text-center p-4">
        <!-- THE REST OF YOUR HTML CODE GOES HERE -->
          
        <button class="btn btn-primary mt-auto" style="position: absolute;right: 100px;top:110px" data-bs-toggle="modal" data-bs-target="#CreateModal">Create Team</button>
        <form action="/team/create" method="POST">
          <div class="modal fade" id="CreateModal" tabindex="-1">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header text-center">
                <h1 class="modal-title fs-3">Create Team</h1>
                <button type="reset" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="input-group mb-3">
                    <input type="text" class="form-control" name="teamName" id="teamName" placeholder="Team name" required>
                  </div>
        
                </div>
                <div class="modal-footer">
                  <button type="reset" class="btn rounded-pill" style="background-color:#dedee3; color:#9c9cac" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn rounded-pill" style="background-color:#e8fcec; color:#17d475">Create Team</button>
                </div>
              </div>
            </div>
          </div>
        </form>

        <h1 style="padding-top:2vh; padding-bottom:2vh">Discover Teams</h1>

        <%teams.forEach(function(team, index){ if((index%2)==0){%>
          <div class="row p-2">
            <%}%>
              <div class="col sm-6">
                <div class="card bg-dark text-white h-100">
                  <div class="card-body d-flex flex-column">
                    <div class="container mt-auto">
                      <h5 class="card-title">
                        <%=team.teamname%>
                      </h5>

                      <p class="card-text">Number of players:
                        <!-- Use teamsToplayers db table -->
                      </p>
                    </div>
                    <form action="/team/join" method="post">
                      <button class="btn btn-primary mt-auto" name="teamid" value=<%=team.teamid%> >Join Team</button>
                    </form>
                    <!-- Button should redirect to a page with a list of teams -->
                  </div>
                </div>
              </div>
              <% if(index==sports.length-1 && index%2==0){%>
                <div class="col sm-6">
                </div>
          </div>
          <%} if(index%2 !=0){%>
      </div>
      <%} })%>



    </main>

    <%- include ('../partials/footer') %>